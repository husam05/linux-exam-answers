<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ±Ù‚Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† - Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ØµØ·ÙÙ‰</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <style>
    :root {
      --bg: #0f172a;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --brand: #3b82f6;
      --accent: #10b981;
      --danger: #ef4444;
      --code-bg: #0b1220;
      --border: #1f2937;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 90% -10%, rgba(59,130,246,0.15), transparent),
                  radial-gradient(800px 400px at 0% 100%, rgba(16,185,129,0.12), transparent),
                  var(--bg);
      color: var(--text);
      min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 24px;
    }
    .container { width: 100%; max-width: 980px; }
    header {
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid var(--border);
      border-radius: 16px; padding: 20px 24px; margin-bottom: 20px;
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      backdrop-filter: blur(8px);
    }
    .title {
      display: grid; gap: 2px;
    }
    .title h1 { font-size: 20px; margin: 0; }
    .title p { margin: 0; color: var(--muted); font-size: 13px; }
    .controls { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
    .btn, .select {
      appearance: none; border: 1px solid var(--border); background: var(--card);
      color: var(--text); padding: 10px 14px; border-radius: 10px; font-size: 14px;
    }
    .btn { cursor: pointer; }
    .btn:hover { border-color: #334155; }
    main {
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid var(--border); border-radius: 16px; padding: 20px;
    }
    .status { margin: 6px 0 14px; color: var(--muted); font-size: 13px; }
    .content { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 20px; }
    .content h1,.content h2,.content h3 { border-right: 3px solid var(--brand); padding-right: 8px; }
    .content table { width: 100%; border-collapse: collapse; margin: 14px 0; }
    .content th, .content td { border: 1px solid var(--border); padding: 10px; }
    .content th { background: #0e1a2e; color: var(--text); }
    pre, code { direction: ltr; text-align: left; }
    pre {
      background: var(--code-bg); color: #e2e8f0; padding: 14px; border-radius: 10px; overflow-x: auto;
      border: 1px solid #0f1a2b;
    }
    code { background: #0e1a2e; padding: 2px 6px; border-radius: 6px; }
    .error { color: #fecaca; background: #450a0a; border: 1px solid #7f1d1d; padding: 10px 12px; border-radius: 10px; }
    .muted { color: var(--muted); }
    footer { margin-top: 16px; color: var(--muted); font-size: 13px; display: flex; justify-content: space-between; }
    a { color: #93c5fd; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" integrity="sha384-GzE2E1B7u7z1b8bDTG5y8o8m7t8G48VwK3e7w7yN3TknkFzqV8kq2c1k0iZ5n1jv" crossorigin="anonymous"></script>
  <script>
    const SHEET_NAMES = { A: 'A', B: 'B', C: 'C', D: 'D', E: 'E', F: 'F' };
    const fileName = (s) => `sheet-${s}-answers.md`;

    // Try multiple sources: jsDelivr -> raw.githubusercontent -> GitHub Contents API
    async function fetchMarkdown(sheet) {
      const s = sheet.toUpperCase();
      const bust = Date.now();
      const urls = [
        `https://cdn.jsdelivr.net/gh/husam05/linux-exam-answers@master/${fileName(s)}?v=${bust}`,
        `https://raw.githubusercontent.com/husam05/linux-exam-answers/master/${fileName(s)}?v=${bust}`,
      ];

      // Attempt CDNs first
      let lastErr;
      for (const url of urls) {
        try {
          const res = await fetch(url, { cache: 'no-store', mode: 'cors' });
          if (res.ok) return await res.text();
          lastErr = new Error('HTTP ' + res.status);
        } catch (e) {
          lastErr = e;
        }
      }

      // Fallback: GitHub Contents API (base64)
      try {
        const apiUrl = `https://api.github.com/repos/husam05/linux-exam-answers/contents/${fileName(s)}?ref=master&v=${bust}`;
        const res = await fetch(apiUrl, { cache: 'no-store', mode: 'cors', headers: { 'Accept': 'application/vnd.github.v3+json' } });
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const json = await res.json();
        if (json && json.content) {
          const md = atob(json.content.replace(/\n/g, ''));
          return md;
        }
        throw new Error('Invalid API response');
      } catch (e) {
        lastErr = e;
      }

      throw lastErr || new Error('Fetch failed');
    }

    async function loadSheet(sheet) {
      const status = document.getElementById('status');
      const content = document.getElementById('content');
      const select = document.getElementById('sheetSelect');
      const s = (sheet || '').toUpperCase();
      if (!SHEET_NAMES[s]) {
        status.innerHTML = '<span class="error">Ø§Ù„ÙˆØ±Ù‚Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Aâ€“F.</span>';
        content.innerHTML = '';
        select.value = '';
        return;
      }
      select.value = s;
      // Update header immediately so Ù„Ø§ ØªØ¸Ù‡Ø± A Ù…Ø¤Ù‚ØªØ§Ù‹
      document.getElementById('sheetLabel').textContent = s;
      status.innerHTML = `<span class="muted">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ±Ù‚Ø© ${s}...</span>`;
      content.innerHTML = '';
      try {
        const md = await fetchMarkdown(s);
        const html = marked.parse(md, { breaks: true, gfm: true });
        content.innerHTML = html;
        status.innerHTML = `<span class="muted">ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ âœ“</span>`;
      } catch (err) {
        console.error(err);
        const raw = `https://raw.githubusercontent.com/husam05/linux-exam-answers/master/${fileName(s)}`;
        status.innerHTML = `<span class="error">ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹. Ø¨Ø¥Ù…ÙƒØ§Ù†Ùƒ ÙØªØ­ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù†ØµÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø©: <a href="${raw}" target="_blank">${fileName(s)}</a></span>`;
      }
      const url = new URL(window.location.href);
      url.searchParams.set('sheet', s);
      window.history.replaceState({}, '', url);
      document.title = `Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ±Ù‚Ø© ${s} - Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ØµØ·ÙÙ‰`;
    }

    window.addEventListener('DOMContentLoaded', () => {
      const params = new URLSearchParams(window.location.search);
      const sheet = params.get('sheet') || '';
      if (sheet) loadSheet(sheet); else loadSheet('A');
      document.getElementById('sheetSelect').addEventListener('change', (e) => loadSheet(e.target.value));
      document.getElementById('backBtn').addEventListener('click', () => {
        window.location.href = 'student-auth-77.html' + window.location.search;
      });
      const printBtn = document.getElementById('printBtn');
      if (printBtn) printBtn.addEventListener('click', () => window.print());
    });
  </script>
  <!-- Open Graph basic -->
  <meta property="og:title" content="Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ±Ù‚Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† - Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ØµØ·ÙÙ‰" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="ar_AR" />
  <meta property="og:description" content="Ø¹Ø±Ø¶ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† (Aâ€“F) Ù…Ø¹ Ø¯Ø¹Ù… Ù„Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØªÙ‡ÙŠØ¦Ø© RTL." />
  <meta property="og:url" content="https://husam05.github.io/linux-exam-answers/answers-viewer.html" />
</head>
<body>
  <div class="container">
    <header>
      <div class="title">
        <h1>ğŸ“‹ Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ±Ù‚Ø© <span id="sheetLabel">A</span></h1>
        <p>Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ØµØ·ÙÙ‰ - Ù‡Ù†Ø¯Ø³Ø© ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ</p>
      </div>
      <div class="controls">
        <select id="sheetSelect" class="select">
          <option value="">Ø§Ø®ØªØ± ÙˆØ±Ù‚Ø©</option>
          <option value="A">ÙˆØ±Ù‚Ø© A</option>
          <option value="B">ÙˆØ±Ù‚Ø© B</option>
          <option value="C">ÙˆØ±Ù‚Ø© C</option>
          <option value="D">ÙˆØ±Ù‚Ø© D</option>
          <option value="E">ÙˆØ±Ù‚Ø© E</option>
          <option value="F">ÙˆØ±Ù‚Ø© F</option>
        </select>
        <button id="backBtn" class="btn">ğŸ” Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØµÙØ­Ø© Ø§Ù„ØªØ­Ù‚Ù‚</button>
        <button id="printBtn" class="btn">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / Ø­ÙØ¸ PDF</button>
      </div>
    </header>
    <main>
      <div id="status" class="status"></div>
      <div id="content" class="content"></div>
    </main>
    <footer>
      <span>Â© Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…ØµØ·ÙÙ‰</span>
      <span class="muted">Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨ØµÙŠØºØ© HTML Ø§Ø­ØªØ±Ø§ÙÙŠØ©</span>
    </footer>
  </div>
  <noscript>
    <div class="error" style="max-width:980px;margin:16px auto;">
      ÙŠØªØ·Ù„Ø¨ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø±Ø¶ ØªÙØ¹ÙŠÙ„ JavaScript Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¨Ø´ÙƒÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ.
    </div>
  </noscript>
  <!-- Optional: analytics or additional scripts can be added here -->
  
  
  
</body>
<!--
  answers-viewer.html
  ÙŠØ¹Ø±Ø¶ Ø¥Ø¬Ø§Ø¨Ø§Øª ÙƒÙ„ ÙˆØ±Ù‚Ø© (Aâ€“F) Ø¨Ø´ÙƒÙ„ HTML Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¹Ø¨Ø± Ø¬Ù„Ø¨ Ù…Ù„ÙØ§Øª Markdown Ù…Ù† GitHub ÙˆØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… marked.js
-->
</html>
